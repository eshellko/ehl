<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Test plan ehl_ddr</title>
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <h2>Тестовый план контроллера динамической памяти ehl_ddr</h2>
      <p>В процессе верификации должны быть выполнены следующие проверки:</p>
      <p> 1. Совместимость контроллера со стандартными интерфейсами.</p>
      <p> 2. Соответствие модели утверждениям из спецификации (Design Correctness / Functionality).</p>
      <p> 3. Отсутствие в RTL модели неисправных состояний.</p>
      <p> 4. Выполнение требований к пропускной способности/производительности контроллера (Design Performance / Timing).</p>
      <p> 5. Проверка соответствия требованиям по тактовой частоте.</p>
      <p> 6. Проверка соответствия требованиям по покрытию дефектов типа Stuck-at.</p>
      <p> Процесс верификации должен быть автоматизирован. Все этапы вместе или по отдельности должны запускаться с помощью makefile. Результат должен быть наглядным с выводом финальной диагностики (PASS / FAIL). Диагностика по каждому тесту должна выводиться в отчет, с обозначением проваленных тестов. Тест должен быть помечен как пройденный, если успешно выполнены все проверки. Тест провален, если не выполнена хотя бы одна проверка, не удалось запустить тест по причине отсутствия файлов, лицензий или САПР, нештатно завершенной работы САПР. Отчеты запуска каждой проверки должны сохраняться для последующего мониторинга. Проверка должна запускаться на версии, хранящейся в системе контроля версий (svn) для специфичной ревизии. Результаты верификации должны сохраняться во внешний (external) относительно репозитория контроллера памяти репозиторий с указанием ревизии, на которой они проводились.</p>
      <p> Тестовое окружение должно поставляться как законченная часть в составе дистрибутива контроллера памяти.</p>
      <p> Поскольку контроллер имеет набор конфигурационных параметров, верификация должна проводиться для всех допустимых наборов параметров. Верификация должна проводиться для выбранного набора параметров тестового окружения (тактовые частоты интерфейсов). Полная верификация должна проводиться для RTL кода контроллера. Для синтезированного и топологического представлений должны проводиться проверки, относящиеся к данным представлениям.</p>
      <p> Каждый тип проверки может использовать собственное тестовое окружение.</p>
      <h3> 1. Совместимость контроллера со стандартными интерфейсами.</h3>
      <p> Проверка должна проводиться путем построения тестового окружения с использованием собственных и сторонних СФ-блоков и мониторинга в процессе моделирования сообщений от них о нарушениях протоколов.</p>
      <p> Ожидаемые сообщения об ошибках должны сопровождаться выводом с ними информации о причинах их появления и отсутствии последствий для корректного функционирования дизайна.</p>
      <h3> 1.1. Используемые IP и САПР</h3>
      <p> В процессе проверки совместимости со стандартными интерфейсами используются следующие IP блоки:</p>

      <table summary="Test plan: ip" cellpadding="4" width="60%" border="1" cellspacing="0" rules="all">
         <colgroup><col><col><col><col></colgroup>
         <thead>
            <tr bgcolor="#C0C0C0">
               <th>Наименование</th>
               <th>Разработчик</th>
               <th>Версия</th>
               <th>Источник</th>
            </tr>
         </thead>
         <tbody>

            <tr>
               <td>AXI Protocol Checker</td>
               <td>ARM</td>
               <td>N/A</td>
               <td>www.arm.com/...</td>
            </tr>

            <tr>
               <td>OVL Assertion Library</td>
               <td>Accellera</td>
               <td>N/A</td>
               <td>N/A</td>
            </tr>

            <tr>
               <td rowspan="4">DDR Memory Model</td>
               <td>Micron</td>
               <td>N/A</td>
               <td>N/A</td>
            </tr>
            <tr>
               <td>Hynix</td>
               <td>N/A</td>
               <td>N/A</td>
            </tr>
            <tr>
               <td>Denali</td>
               <td>N/A</td>
               <td>N/A</td>
            </tr>
            <tr>
               <td>Winbond</td>
               <td>N/A</td>
               <td>N/A</td>
            </tr>

            <tr>
               <td rowspan="3">DDR Verification Monitor</td>
               <td>Cadence</td>
               <td>N/A</td>
               <td>N/A</td>
            </tr>
            <tr>
               <td>Synopsys</td>
               <td>N/A</td>
               <td>N/A</td>
            </tr>
            <tr>
               <td>Mentor Graphics</td>
               <td>N/A</td>
               <td>N/A</td>
            </tr>

         </tbody>
      </table>

<!--
      <p> Для проверки используются следующие САПР (здесь и далее не указывается операционная система и ее стандартные утилиты):</p>
      <table summary="Test plan: cad_sim" cellpadding="4" width="50%" border="1" cellspacing="0" rules="all">
         <colgroup><col><col><col></colgroup>
         <thead>
            <tr bgcolor="#C0C0C0">
               <th>Наименование</th>
               <th>Разработчик</th>
               <th>Версия</th>
            </tr>
         </thead>
         <tbody>
            <tr> <td>Incisive Enterprise Simulator</td> <td>Cadence Design Systems</td> <td>12.20</td> </tr>
            <tr> <td>ICCR</td>                          <td>Cadence Design Systems</td> <td>12.20</td> </tr>
            <tr> <td>HAL</td>                           <td>Cadence Design Systems</td> <td>12.20</td> </tr>
         </tbody>
      </table>
-->
      <p> Корректность протокола AXI проверяется с помощью ARM AXI Protocol Checker.</p>
      <p> В процессе верификации используется модель PHY (<b>ehl_ddr_phy</b>), являющаяся тестируемой моделью.</p>

      <h3> 2. Соответствие модели утверждениям из спецификации</h3>
      <p> Данная проверка подразумевает верификацию соответствия RTL модели спецификации контроллера памяти. Каждое утверждение имеет ID, отражаемый в процессе моделирования. ID служит для построения соответствия между спецификацией контроллера, спецификацией тестирования и тестом.</p>

      <table summary="Test plan: assert" cellpadding="4" width="80%" border="1" cellspacing="0" rules="all">
         <colgroup><col><col><col></colgroup>
         <thead>
            <tr bgcolor="#C0C0C0">
               <th>ID</th>
               <th>Утверждение</th>
               <th>Тип проверки</th>
            </tr>
         </thead>
         <tbody>
<!--
            <tr>
               <td>A-3-1-0</td>
               <td>Время ожидания запроса не превышает 2*AXI_QUEUE_DEPTH времени обработки запроса</td>
               <td>N/A - не применяется</td>
            </tr>

            <tr>
               <td>A-3-1-1</td>
               <td>Поддерживаются AXI Narrow Transfers</td>
               <td>Тестовое покрытие R-3-3/R-3-4</td>
            </tr>

            <tr>
               <td>A-3-1-2</td>
               <td>Поддерживаются AXI Unaligned Transfers</td>
               <td>Тестовое покрытие R-3-3/R-3-4</td>
            </tr>

            <tr>
               <td>A-3-1-3</td>
               <td>AXI Read Channel генерирует отклики только OKAY или SLVERR</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-3-1-4</td>
               <td>AXI Write Channel генерирует отклики только OKAY или SLVERR</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-3-2-0</td>
               <td>APB синхронизируется в соответствии с параметром CDC_SYNC_STAGE</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-1-0</td>
               <td>Регистры изменяют свое значение только при обращении по заданному адресу</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-1-1</td>
               <td>
                  <p>Значение регистра DDR_MR0 после сброса соответствует спецификации</p>
                  <p>Чтение не изменяет содержимого регистра DDR_MR0</p>
                  <p>Биты RW регистра DDR_MR0 доступны по чтению и записи, биты R только по чтению</p>
                  <p>Значение write_recovery соответствует выбранному скоростному режиму</p>
                  <p>Значение cas_latency соответствует выбранному скоростному режиму</p>
               </td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-2</td>
               <td>Зарезервированные значения write_recovery не используются в процессе тестов</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-3</td>
               <td>Зарезервированные значения cas_latency не используются в процессе тестов</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-4</td>
               <td>
                  <p>Значение регистра DDR_MR1 после сброса соответствует спецификации</p>
                  <p>Чтение не изменяет содержимое регистра DDR_MR1</p>
                  <p>Биты RW регистра DDR_MR1 доступны по чтению и записи, биты R только по чтению</p>
               </td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-5</td>
               <td>Зарезервированные значения additive_latency не используются в процессе тестов</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-6</td>
               <td>
                  <p>Значение регистра DDR_MR2 после сброса соответствует спецификации</p>
                  <p>Чтение не изменяет содержимое регистра DDR_MR2</p>
                  <p>Биты RW регистра DDR_MR2 доступны по чтению и записи, биты R только по чтению</p>
               </td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-7</td>
               <td>
                  <p>Значение регистра DDR_MR3 после сброса соответствует спецификации</p>
                  <p>Чтение не изменяет содержимое регистра DDR_MR3</p>
                  <p>Биты R регистра DDR_MR3 доступны только по чтению</p>
               </td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-8</td>
               <td>Row Mask не принимает запрещенную комбинацию значений</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-9</td>
               <td>
                  <p>Значение регистра DDR_TYPE после сброса соответствует спецификации</p>
                  <p>Чтение не изменяет содержимое регистра DDR_TYPE</p>
                  <p>Биты RW регистра DDR_TYPE доступны по чтению и записи, биты R только по чтению</p>
               </td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-10</td>
               <td>
                  <p>Значение регистра DDR2_DET после сброса соответствует спецификации</p>
                  <p>Чтение не изменяет содержимое регистра DDR2_DET</p>
                  <p>Биты RW регистра DDR2_DET доступны по чтению и записи, биты R только по чтению</p>
               </td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-12</td>
               <td>
                  <p>Значение регистра DDR2_GTR после сброса соответствует спецификации (за исключением несбрасываемых бит)</p>
                  <p>Чтение не изменяет содержимое регистра DDR2_GTR</p>
                  <p>Биты R регистра DDR2_GTR доступны только по чтению</p>
                  <p>Значение регистра DDR2_GTR обновляется в соответствии со значением порта dfi_rdlvl_resp</p>
               </td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-13</td>
               <td>
                  <p>Значение регистра DDR2_GT после сброса соответствует спецификации</p>
                  <p>Чтение не изменяет содержимое регистра DDR2_GT</p>
                  <p>Биты RW регистра DDR2_GT доступны по чтению и записи, биты R только по чтению</p>
               </td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-14</td>
               <td>
                  <p>Значение регистра DDR_PHY после сброса соответствует спецификации</p>
                  <p>Чтение не изменяет содержимое регистра DDR_PHY</p>
                  <p>Биты RW регистра DDR_PHY доступны по чтению и записи, биты R только по чтению</p>
               </td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-15</td>
               <td>
                  <p>Значение регистра DDR2_CTRL после сброса соответствует спецификации</p>
                  <p>Чтение не изменяет содержимое регистра DDR2_CTRL</p>
                  <p>Биты RW регистра DDR2_CTRL доступны по чтению и записи, биты R только по чтению</p>
               </td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-16</td>
               <td>В процессе работы не устанавливается более одного командного бита</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-17</td>
               <td>
                  <p>Значение регистра DDR2_CMD после сброса соответствует спецификации</p>
                  <p>Чтение не изменяет содержимое регистра DDR2_CMD</p>
                  <p>Регистр DDR2_CMD изменяет свои биты аппаратно - требуется проверка функционирования</p>
               </td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-18</td>
               <td>
                  <p>Значение регистра DDR_TIME после сброса соответствует спецификации</p>
                  <p>Чтение не изменяет содержимое регистра DDR_TIME</p>
                  <p>Биты RW регистра DDR_TIME доступны по чтению и записи, биты R только по чтению</p>
               </td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-19</td>
               <td>
                  <p>Значение регистра DDR2_CFG после сброса соответствует спецификации</p>
                  <p>Чтение не изменяет содержимое регистра DDR2_CFG</p>
                  <p>Биты R регистра DDR2_CFG доступны только по чтению</p>
               </td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-1-20</td>
               <td>
                  <p>Значение регистра DDR2_ECC_FIFO после сброса соответствует спецификации (Данное утверждение не будет выполняться поскольку маска находится выше по иерархии, требуется проверка сброса флага empty)</p>
                  <p>Чтение не изменяет содержимое регистра DDR2_ECC_FIFO</p>
                  <p>Биты R регистра DDR2_ECC_FIFO доступны только по чтению</p>
               </td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-1-21</td>
               <td>
                  <p>Значение регистра DDR2_EC после сброса соответствует спецификации</p>
                  <p>Чтение не изменяет содержимое регистра DDR2_EC</p>
                  <p>Часть бит регистра изменяется аппаратно в некоторых режимах - требуется проверка функциональности</p>
               </td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-22</td>
               <td>При отключенном режиме коррекции блок контрольных бит остается неизменным при записи</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-1-23</td>
               <td>При отключенном режиме коррекции данные не корректируются и сигналы ошибок не формируются</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-24</td>
               <td>Прерывание устанавливается при превышении порога ошибок</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-1-25</td>
               <td>В режиме тестирования контрольных бит биты записываются с шины данных, сам блок данных не изменяется</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-1-26</td>
               <td>При чтении в режиме тестирования контрольных бит старшие разряды равны нулю, сигналы ошибок не формируются</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-1-27</td>
               <td>Регистр DDR2_EC не доступен по записи в конфигурации без коррекции ошибок</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-2-0</td>
               <td>Биты регистров DDR_MR0, DDR_MR1, DDR_MR2, DDR_MR3 корректно записываются в регистры SDRAM</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-3-0</td>
               <td>Резисторы ODT включены на протяжении всего трансфера</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-3-1</td>
               <td>Резисторы ODT остаются включенными в течение всей непрерывной передачи (с учетом задержки выключения)</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-3-2</td>
               <td>В случае обращения к различным чипам, контроллер добавляет интервал между транзакциями</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-4-0</td>
               <td>Значение dfi_rdlvl_gate_delay после тренинга аппаратно задается на 2 меньше текущего значения при получении первой единицы на dfi_rdlvl_resp</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-6-0</td>
               <td>
                  <p>Одновременно открыто не более одной страницы для каждого банка каждого чипа</p>
                  <p>При выполнении REFRESH все страницы закрыты</p>
                  <p>При выполнении SELF-REFRESH и POWER-DOWN все страницы закрыты</p>
                  <p>При выполнении READ/WRITE открыта адресуемая страница банка</p>
                  <p>После выполнения READ/WRITE страница не закрывается</p>
               </td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-7-0</td>
               <td>При обнаружении некорректируемой ошибки генерируется SLVERR отклик AXI</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-7-1</td>
               <td>При обнаружении корректируемой ошибки происходит ее исправление</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-7-2</td>
               <td>При обнаружении некорректируемой ошибки происходит соответствующая сигнализация</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-8-0</td>
               <td>Переход в Power-Down осуществляется при закрытых страницах. Переход происходит программно или аппаратно</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-8-1</td>
               <td>Проверка отказа в переходе в режим Power-Down</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-8-2</td>
               <td>Выход из режима происходит не позднее, чем период REFRESH (если он разрешен)</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>A-5-8-3</td>
               <td>Проверка перехода в режим SELF-REFRESH и условий отказа в переходе</td>
               <td></td>
            </tr>

            <tr>
               <td>A-5-8-4</td>
               <td>При выходе из SELF-REFRESH исполняется команда REFRESH</td>
               <td></td>
            </tr>-->

         </tbody>
      </table>

      <h3> 3. Отсутствие в RTL неисправных состояний.</h3>
      <p> Данная проверка направлена на поиск и устранение состояний RTL модели, не отраженных в спецификации и являющихся деталями реализации. Начальный перечень проверок осуществляется на основании предполагаемой архитектуры контроллера. В процессе верификации на основании метрик тестового покрытия в перечень должны вноситься дополнительные тесты до достижения 100% покрытия кода (block, expression) и максимально возможного функционального покрытия (assertions).</p>

      <table summary="Test plan: req" cellpadding="4" width="90%" border="1" cellspacing="0" rules="all">
         <colgroup><col><col><col></colgroup>
         <thead>
            <tr bgcolor="#C0C0C0">
               <th>ID</th>
               <th>Требование</th>
               <th>Тип проверки</th>
            </tr>
         </thead>
         <tbody>
<!--
            <tr>
               <td>R-3-0</td>
               <td>Ни одно FIFO в контроллере не должно переполняться</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>R-3-1</td>
               <td>Тесты должны проверять переход в состояние FULL для каждого FIFO</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>R-3-2</td>
               <td>Тесты должны проверить переход из AlmostEmpty в Empty для каждого FIFO</td>
               <td>Утверждение</td>
            </tr>

            <tr>
               <td>R-3-3</td>
               <td>Проверка записи в контроллер данных со всеми поддерживаемыми данной конфигурацией вариантами AWSIZE. Перебор для всех корректных значений AWLEN и начального AWADDR.</td>
               <td>Тестовое покрытие</td>
            </tr>

            <tr>
               <td>R-3-4</td>
               <td>Проверка чтения из контроллера данных со всеми поддерживаемыми данной конфигурацией вариантами ARSIZE. Перебор для всех корректных значений ARLEN и начального ARADDR. Для чтения адрес ARADDR должен быть выровнен с размером транзакции ARSIZE.</td>
               <td>Тестовое покрытие</td>
            </tr>

            <tr>
               <td>R-3-5</td>
               <td>Проверка переполнения Write-Back буфера и Error FIFO.</td>
               <td>Тестовое покрытие</td>
            </tr>

            <tr>
               <td></td>
               <td>Проверка одновременного прихода транзакций по каналам чтения и записи с различным смещением адресов и данных.</td>
               <td></td>
            </tr>

            <tr>
               <td></td>
               <td>Проверка соответствия настройке интервала между командой WRITE на DFI и выставлением данных. Проверка для всех поддерживаемых значений интервала PHY_WRLAT.</td>
               <td></td>
            </tr>

            <tr>
               <td></td>
               <td>Проверка соответствия настройке интервала между командой READ на DFI и выставлением макси данных. Проверка для всех поддерживаемых значений интервала RDDATA_EN.</td>
               <td></td>
            </tr>

            <tr>
               <td></td>
               <td>Проверка соответствия настройке интервала между выставлением маски данных и готовностью данных на DFI. Проверка для всех поддерживаемых значений интервала PHY_RDLAT.</td>
               <td></td>
            </tr>

            <tr>
               <td></td>
               <td>Проверка корректного формирования переноса адресных бит при пересечении границы 4К AXI для различных значений параметра AXI_4K_LIMIT.</td>
               <td></td>
            </tr>-->

         </tbody>
      </table>

      <h3>3.1. Проверка свойств контроллера</h3>
      <table summary="Test plan: tests" cellpadding="4" width="90%" border="1" cellspacing="0" rules="all">
         <colgroup><col><col><col></colgroup>
         <thead>
            <tr bgcolor="#C0C0C0">
               <th>Тест</th>
               <th>Описание</th>
               <th>Проверяемые свойства</th>
            </tr>
         </thead>
         <tbody>
<!--
            <tr bgcolor="#E0E0E0">
               <td>DDR2_READ_REGISTERS</td>
               <td>Чтение состояния программно доступных регистров после сброса.</td>
               <td>Начальное значение регистров соответствует спецификации.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_INIT</td>
               <td>Запуск и мониторинг процедуры инициализации памяти.</td>
               <td>Корректность записываемых в регистры значений конфигурации динамической памяти. Отсутствие сообщений об ошибках со стороны модели памяти.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_GATE_TRNG</td>
               <td>Процедура PHY Gate Training.</td>
               <td>Проверка выполнения процедуры и обновления результатов.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_DATA_EYE_TRNG</td>
               <td>Процедура PHY Data Eye Training.</td>
               <td>Проверка выполнения процедуры и обновления результатов.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_WR_CREDIT</td>
               <td>Проверка кредита по транзакциям записи.</td>
               <td>Проверка отказа от транзакций AXI по данным и адресу при достижении максимального количества принятых транзакций.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_MIDDLE_BURST</td>
               <td>Транзакции с адресом AXI, попадающим в середину адреса Burst SDRAM.</td>
               <td>Проверка корректного выставления адресов и масок для транзакций AXI, которые адресуют середину (или четверть) SDRAM burst.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_INTERRUPT</td>
               <td>Генерация прерываний.</td>
               <td>Проверка генерации прерываний при различных значениях счетчиков ошибок и порога генерации.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_RMW</td>
               <td>Проверка режима Read-Modify-Write (для поддерживающих конфигураций).</td>
               <td>Проверка генерации последовательности RMW при записи частично маскируемых данных в режиме с коррекцией ошибок.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_WR_RD_RANDOM</td>
               <td>Проверка последовательности запись-чтение со случайно сгенерированными параметрами транзакции.</td>
               <td>Проверка непокрытых тестами случаев функционирования.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_EMPTY_WR</td>
               <td>Запись с полностью маскированными данными.</td>
               <td>Проверка корректного функционирования для транзакций с полностью маскированными данными.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_WRITE_STRESS</td>
               <td>Конкурирующая запись транзакций по каналам записи адреса, данных и откликов.</td>
               <td>Проверить, что FIFO для каждого канала корректно взаимодействуют при конкурирующем поступлении данных.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_READ_STRESS</td>
               <td>Чтение данных на максимальной скорости AXI.</td>
               <td>Проверка корректного чтения данных в случае постоянного поступления запросов на чтение.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>AXI_WR_SEAMLESS</td>
               <td>Передача данных AXI для следующей транзакции сразу после предыдущей без записи соответствующего ей адреса.</td>
               <td>Проверяет корректность запрета записи данных до записи адреса в граничных условиях.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_HAMMING_RAM</td>
               <td>Запись данных в память для хранения контрольных бит.</td>
               <td>Проверка корректности записи в область контрольных бит и сохранения содержимого области данных.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_RW_CHAR</td>
               <td>Запись и чтение данных в байтовом формате.</td>
               <td>Проверка корректной упаковки байт на AXI в транзакции на SDRAM и в обратном направлении.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_READ_NARROW</td>
               <td>Чтение данных с различной длиной и шириной отличной от ширины шины.</td>
               <td>Проверка корректной упаковки данных в структуры AXI и корректного количества повторения при чтении данных в течении нескольких транзакций.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_OUT_OF_BANK</td>
               <td>Проверка корректной записи при пересечении адресом границы банка.</td>
               <td>Ограничение в 4К по адресу позволяет пересекать границы банков внутри одной AXI транзакции. Проверка того, что данные записываются корректно и не возникает проблем с открытием и закрытием страниц.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_WR_SIZE</td>
               <td>Запись данных со всеми поддерживаемыми значениями AWSIZE, AWLEN и начальным смещением AWADDR.</td>
               <td>Проверка корректной обработки всех поддерживаемых типов транзакций AXI.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_ODT</td>
               <td>Работа в режиме ODT.</td>
               <td>Проверка корректности управления шумоподавляющими резисторами в различных режимах функционирования. Проверка добавления защитного интервала на шине при обращении к различным чипам.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_LOW_POWER</td>
               <td>Переход в режимы Self-Refresh и Power-Down.</td>
               <td>Проверка корректного перехода в режимы и выхода из них.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_REFRESH</td>
               <td>Проверка программного отключения команды REFRESH.</td>
               <td>Проверка, что команда REFRESH не отправляется, если отключена программно.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_ECC</td>
               <td>Проверка коррекции ошибок.</td>
               <td>Проверка корректного исправления найденных ошибок, сигнализации.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_RMW_BURST</td>
               <td>Транзакция записи содержащая не полностью маскированные данные.</td>
               <td>Проверка того, что транзакция состоящая из нескольких SDRAM burst, каждый из которых требует RMW, будет исполнена последовательно READ1-WRITE1-READ2-WRITE2 и не разрушит содержимое RMW буфера.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_RD_MIDDLE</td>
               <td>Чтение с адресацией в середину и начало SDRAM Burst.</td>
               <td>Проверка корректного маскирования данных (выставления начальных смещений) при переключении из одного режима адресации в другой.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_WB_MIDDLE</td>
               <td>Исправление ошибки в трансфере в середину SDRAM Burst.</td>
               <td>Проверка корректной адресации при исправлении ошибки для трансфера в середину SDRAM Burst.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_WB_OVERFLOW</td>
               <td>Переполнение Write-Back буфера.</td>
               <td>Проверка сохранения в буфере первых записанных туда адресов ошибок при возникновении большого количества ошибок (больше глубины буфера). Проверка последующей корректной работы буфера после окончания исправления. Проверка переполнения в то же время буфера ошибочных адресов, доступного программно, и его последующей корректной работы.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR2_ID_RETURN</td>
               <td>Проверка ID транзакций AXI.</td>
               <td>Проверяется, что контроллер возвращает корректные ID вместе с откликами на транзакции.</td>
            </tr>

            <tr bgcolor="#E0E0E0">
               <td>DDR_PASR</td>
               <td>Проверка режима Partial Array Self-Refresh динамической памяти 2/3.</td>
               <td>Проверяется корректность записи настроек PASR в регистры динамической памяти и сохранение данных в защищенных частях массива памяти.</td>
            </tr>
-->

            <tr>
               <td>DDR2_FAW</td>
               <td>Последовательная активация (путем записи и чтения) 8 банков памяти. Проверка VIP соответствия параметра tFAW.</td>
               <td>Соответствие требованию tFAW.</td>
            </tr>

            <tr>
               <td>DDR_SRX</td>
<!--# TODO: which one is correct - ask
Q: входа / выхода в / из режим / режима
Q: входа / выхода в режим
Q: входа в режим / выхода из режима-->
               <td>Корректность входа (SRE) / выхода (SRX) в режим Self-Refresh.</td>
               <td>
                  <p>Выполнение последовательности команд REFRESH-REFRESH-ZQC после выхода из Self-Refresh.</p>
                  <p>Соответствие tCKSRE / tCKSRX при отключении синхросигнала в режиме Self-Refresh.</p>
                  <p>Выход из Self-Refresh программно, при получении команды чтения, при получении команды записи.</p>
               </td>
            </tr>

            <tr>
               <td>DDR_AXI</td>
               <td>Проверка совместимости с интерфейсом AMBA AXI.</td>
               <td>
                  <p>Влияние зависимости прихода транзакций адреса и данных при записи в память.</p>
                  <p>Проверка откликов контроллера на запрос перехода в режим Low-Power.</p>
                  <p>Проверка зависания каналов при обращении по другим каналам.</p>
                  <p>Обработка транзакций с Burst Length AXI4.</p>
                  <p>Игнорирование значения Awlen.</p>
                  <p>Одновременные байтовые обращения по всем каналам.</p>
               </td>
            </tr>

         </tbody>
      </table>

      <h3> 4. Выполнение требований к пропускной способности/производительности контроллера</h3>
      <p> Данная проверка проводит оценку пропускной способности контроллера в различных режимах функционирования. Результат должен сравниваться с требованиями технического задания (если таковые имеются).</p>

      <table summary="Test plan: tests" cellpadding="4" width="90%" border="1" cellspacing="0" rules="all">
         <colgroup><col><col><col></colgroup>
         <thead>
            <tr bgcolor="#C0C0C0">
               <th>Тест</th>
               <th>Описание</th>
               <th>Проверяемое свойство</th>
            </tr>
         </thead>
         <tbody>

            <tr>
               <td>DDR2_BANDWIDTH</td>
               <td>Оценка пропускной способности интерфейсов</td>
               <td>Проверка соответствия контроллера требованиям к пропускной способности. Проверяется достижимость максимальной пропускной способности (между AXI и SDRAM) при циклическом обращении к одному и тому же адресу.</td>
               </tr>
<!--
            <tr>
               <td></td>
               <td></td>
               <td>Оценка влияния исправимых ошибок на пропускную способность в режиме с коррекцией в зависимости от плотности ошибок.</td>
            </tr>
-->

            <tr>
               <td>DDR2_RANK_TO_RANK</td>
               <td>Влияние RdCsGap / WrCsGap при обращении к различным чипам.</td>
               <td>При обращении к разным запрограммированное значение RdCsGap (WrCsGap) влияет на пропускную полосу.</td>
            </tr>

            <tr>
               <td>DDR4_BG_MAP</td>
               <td>Влияние размещения Bank Group на пропускную способность.</td>
               <td>Использование параметров tCCD_S и tCCD_L при различном маппинге адресов Bank Group в DDR4. Влияние на пропускную полосу.</td>
            </tr>

         </tbody>
      </table>

      <h3> 5. Проверка соответствия требованиям по тактовой частоте</h3>
      <p> Для проведения оценки по тактовой частоте требуется провести логический синтез на заданной технологии (синтез топологии не требуется). Синтез должен проводиться с учетом временных ограничений и с интеграцией структур DFT. Функциональная корректность синтезированного представления должна проверяться с помощью проверки логической эквивалентности.</p>
<!--
      <h3> 5.1. Используемые САПР</h3>
      <table summary="Test plan: cad_syn" cellpadding="4" width="40%" border="1" cellspacing="0" rules="all">
         <colgroup><col><col><col></colgroup>
         <thead>
            <tr bgcolor="#C0C0C0">
               <th>Наименование</th>
               <th>Разработчик</th>
               <th>Версия</th>
            </tr>
         </thead>
         <tbody>
            <tr> <td>Design Compiler</td> <td>Synopsys</td>               <td>2010</td> </tr>
            <tr> <td>RTL Compiler</td>    <td>Cadence Design Systems</td> <td>7.20</td> </tr>
            <tr> <td>Formality</td>       <td>Synopsys</td>               <td>2010.03-SP5</td> </tr>
         </tbody>
      </table>
-->
   </body>
</html>
